<!doctype html>
<html class="theme-next ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="h7BaHlqi6VjlciSt0RF-KHgIXZcGfx3L3gyQ9qfx_ek" />










  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="wuxu, Golang, C, CPP, CS, PHP, " />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="Wu Xu的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Wu Xu">
<meta property="og:url" content="http://blog.wuxu92.com/page/17/index.html">
<meta property="og:site_name" content="Wu Xu">
<meta property="og:description" content="Wu Xu的个人博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wu Xu">
<meta name="twitter:description" content="Wu Xu的个人博客">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'hide',
    motion: false
  };
</script>

  <title> Wu Xu </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-72131273-1', 'auto');
  ga('send', 'pageview');
</script>





  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>
    <div class="bottomband"></div> <!-- add by wuxu -->
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wu Xu</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">关注C、Go、C++、JavaScript和UX</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    
      
      

      
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/use-yadr-enhancing-your-vim/" itemprop="url">
                  yadr中提供的vim快捷操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-07-25T12:34:50+08:00" content="2015-07-25">
              2015-07-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/tools/" itemprop="url" rel="index">
                    <span itemprop="name">tools</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>github上面的活跃的dotfiles项目[yadr](https</p>
<p>这里主要就是官方readme文档的 <a href="https://github.com/skwp/dotfiles/#vim---whats-included" title="https://github.com/skwp/dotfiles/#vim---whats-included" target="_blank" rel="noopener">Vim部分</a> 的记录。基本的vim操作就不详细介绍了。</p>
<p>参考： <a href="http://skwp.github.io/dotfiles/" title="http://skwp.github.io/dotfiles/" target="_blank" rel="noopener">http://skwp.github.io/dotfiles/</a></p>
<h2 id="有什么？"><a href="#有什么？" class="headerlink" title="有什么？"></a>有什么？</h2><p>yadr提供了</p>
<h2 id="导航"><a href="#导航" class="headerlink" title="导航"></a>导航</h2><ul>
<li><code>,z</code> 切换到前一个缓冲文件（buffer），相当于 :bp[revious]</li>
<li><code>,x</code> 切换到后一个缓冲，相当于命令行的 :bn[ext]</li>
<li><code>Alt+j</code> 和 <code>Alt+k</code> 下跳或者上跳一个函数；好像不起作用</li>
<li><code>Ctrl+o</code> 跳转到旧的指针位置，这是vim的标准快捷键，<strong>非常有用</strong></li>
<li><code>Ctrl+i</code> Ctrl+o的逆操作，也是标准按键</li>
</ul>
<h2 id="搜索与代码导航"><a href="#搜索与代码导航" class="headerlink" title="搜索与代码导航"></a>搜索与代码导航</h2><ul>
<li><code>,f</code> 跳转到类定义，需要系统安装了ctags，并创建tags file。</li>
</ul>
<blockquote>
<p>ctags是一个独立的软件，不包含在vim之中，使用yum安装即可，在项目目录下运行 <code>ctags -R .</code> 后会创建tags file，这是就可以使用跳转到定义的功能了。</p>
</blockquote>
<ul>
<li><code>,F</code> 与<code>,f</code>相同不过在新建垂直分屏（vsp）显示定义</li>
<li><code>,gf</code>或者 <code>ctrl+f</code> 跳转到光标坐在变量名对应的文件，但是在一个新的分栏中显示，这在java中比较好用</li>
<li><code>gF</code> 标准快捷键，打开文件</li>
<li><code>K</code> 搜索光标所在单词，并在quickfix窗口显示结果，这个功能需要安装silver serach, <code>sudo yum install -y the_silver_searcher</code></li>
<li><code>,K</code> 没太多用，Grep the current word up to next exclamation point (useful for ruby foo! methods)</li>
<li><code>,hl</code> 开关搜索结果的高亮，相当于 :set noh与其逆操作</li>
<li><code>,gg</code>或者<code>,ag</code>: 搜索，键入这个命令后，会出现一个输入符，在双引号中输入字符后回车会搜索包含这段字符的行</li>
<li><code>,gd</code> 搜索包含字符的函数定义， grep def,不太用</li>
<li><code>,gcf</code> grep current file的缩写，查找对本文件的引用</li>
<li><code>//</code> 清空搜索</li>
<li><code>,,w</code> <code>,&lt;Esc&gt;</code>的alias，EasyMotion，highlights jump-points on the screen and lets you type to get there</li>
<li><code>,mc</code> 多标签，这个功能和sublime中的比较像，在一个单词上面使用<code>,mc</code>会记录这个单词，然后使用<code>Ctrl-n</code>或者<code>Ctrl+p</code>选择前一个或者后一个相同的单词的，或者使用Ctrl+x跳过一个。 这个比较有用</li>
<li><code>gK</code> 打开光标所在单词同名的文档？不常用</li>
</ul>
<h2 id="文件导航"><a href="#文件导航" class="headerlink" title="文件导航"></a>文件导航</h2><ul>
<li><code>,t</code>  文件选择器，不常- 用，键入指令后可以输入字符筛选文件</li>
<li><code>,b</code> 打开缓存区的一个文件，比较常用</li>
<li><code>Cmd-Shift-M</code> 跳转到方法，Linux下好像没用。</li>
<li><code>,jm</code> jump to models,可能在rails里面比较有用</li>
<li><code>Alt+Shift+N</code> nerd tree toogle,好像没什么用</li>
<li><code>Ctrl+\</code> 在侧边栏文件树显示当前文件，和sublime的sidebar有点像</li>
<li><code>Cmd-Shift-P</code> 清空ctrlp 缓存，没用过</li>
</ul>
<h2 id="常用编辑快捷键"><a href="#常用编辑快捷键" class="headerlink" title="常用编辑快捷键"></a>常用编辑快捷键</h2><ul>
<li><code>Ctrl+space</code> 自动补全- ， Tab键</li>
<li><code>,#</code>; <code>,&quot;</code>; <code>,&#39;</code>; <code>,]</code>; <code>,)</code>; <code>,}</code>;  这些优点麻烦的样子，待补充</li>
<li><code>,.</code> 跳转到上一个编辑地点。和<code>&#39;.</code>的作用相同。</li>
<li><code>,ci</code> change inside any set of quotes/brackets/etc。其作用是删除”, {}, ()之间的字符并进入插入模式</li>
</ul>
<h2 id="多标签，多窗口，分割模式"><a href="#多标签，多窗口，分割模式" class="headerlink" title="多标签，多窗口，分割模式"></a>多标签，多窗口，分割模式</h2><ul>
<li><code>alt+n</code> - 快速跳转到指定的tab</li>
<li><code>Ctrl-h,j,k,l</code> 在分栏窗口中上下左右移动。</li>
<li><code>Q</code> 关闭当前的window，<strong>非常方便</strong></li>
<li><code>vv</code> 与 <code>Ctrl-w,v</code>一样，vertical split, 上下分栏</li>
<li><code>ss</code> 与 <code>Ctrl-w,s</code>一样，horizontal split，左右分栏</li>
<li><code>,qo</code> 打开quickfix， qo =&gt; quickfix open, <strong>有用</strong></li>
<li><code>,qc</code> 关闭quickfix,  qc =&gt; quickfix close， <strong>有用</strong>，yadr配置的vim在保存文件时会做语法检查，如果检查不通过会在quickfix窗口显示错误，并且不会自动消失，这时候也许需要 <code>,qc</code>来关闭它。</li>
</ul>
<h2 id="其它常用"><a href="#其它常用" class="headerlink" title="其它常用"></a>其它常用</h2><ul>
<li><code>Ctrl-p</code> 循环历史剪切板，这个很有用，p是粘贴，Ctrl+p会粘贴之前的剪切板内容</li>
<li><code>,yr</code> view yanking, 查看历史复制记录， <code>q</code>退出查看</li>
<li><code>crs</code>, <code>crc</code>, <code>cru</code> cr 应该是 coerce（强制）， s是snake, c是camelcase， u是UPPER，转换变量大小写下划线形式，比较有意思,可以使用<code>:help abolish</code>查看更多</li>
<li><code>:NR</code> NarrowRgn，看名字不知道是干什么的，其实是选中一段代码，然后<code>:NR</code>vim会新开一个split把选中的代码放在心的split中操作，操作完后，<code>wq</code>会把结果覆盖掉原来选中的代码。也挺有用的。</li>
<li><code>,ig</code> toggle visual indentation guids</li>
<li><code>,cf</code> 拷贝当前文件的完整路径到系统剪切板</li>
<li><code>,cn</code> 拷贝文件名</li>
<li><code>,yw</code> yw是从复制从光标位置开始到单词结束，<code>,yw</code>是在任意位置复制整个单词</li>
<li><code>,ow</code> 使用yank buffer中内容覆盖当前所在的单词，ow =&gt; overwrite</li>
<li><code>,ocf</code> 打开所有git标记为修改过的文件，在splits中打开。使用git版本控制下的文件才有用, ocf =&gt; open changed files</li>
<li><code>,w</code> 去掉尾部多余的空格，应该很有用， StripTrailingWhitespaces</li>
<li><code>sj</code> 把单行的hash表格式化为多行的</li>
<li><code>sk</code> unsplit a link 应该不怎么用</li>
<li><code>,he</code> he =&gt; html escape</li>
<li><code>,hu</code> hu =&gt; html unescape</li>
<li><code>Alt+Shift-A</code> align things, 好像没什么用</li>
<li><code>:ColorToggle</code> 顾名思义</li>
<li><code>:Gitv</code> git log browser</li>
<li><code>,hi</code>  显示当前高亮的组</li>
<li><code>,gt</code> Go Tidy， 格式化html代码</li>
<li><code>:Wrap</code> 折叠长行，这个比较有用,特别是quickfix中的提示经常跑出去了 // 好像对quickfix部分不起作用 -_-</li>
<li><code>Cmd-/</code> toggle comments,在Linux下使用alt</li>
<li><code>gcp</code> comment a paragraph</li>
</ul>
<h2 id="vim相关"><a href="#vim相关" class="headerlink" title="vim相关"></a>vim相关</h2><p><code>,vr</code> 重新加载vim， vim reload</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/z-expand-anchor-element-to-fill-parent/" itemprop="url">
                  A标签(Anchor Tag)占满父元素的实现
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-07-24T12:34:50+08:00" content="2015-07-24">
              2015-07-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/fe/" itemprop="url" rel="index">
                    <span itemprop="name">fe</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>A标签默认是inline元素，所以标签内容的长短决定了鼠标hover的范围，在有些时候，比如某些导航列表中，需要hover父标签（li）时能hover到a标签。</p>
<p>在制作一个API文档的侧边栏导航列表的时候，html大概是这样的</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;toc-macro absolute&quot;&gt;</span><br><span class="line">&lt;ul class=&quot;toc-indentation&quot;&gt;</span><br><span class="line">  &lt;li&gt;&lt;a href=&quot;#id-1&quot;&gt;1. 绑定手机号&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;&lt;a href=&quot;#id-2&quot;&gt;2. 查询手机号码是否可以绑定&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;&lt;a href=&quot;#id-3&quot;&gt;3. 添加邮箱&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;&lt;a href=&quot;#id-4&quot;&gt;4. 检查邮箱是否可以添加&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>其他的样式就不具体写了，其实现的效果是在右侧边栏实现一个列表导航。一些主要的样式大概如下：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.toc-macro</span>&#123; <span class="attribute">position</span>: fixed; <span class="attribute">top</span>: <span class="number">100px</span>; &#125;</span><br><span class="line"><span class="selector-class">.toc-macro</span> <span class="selector-tag">ul</span> &#123;<span class="attribute">list-style-type</span>:none; &#125;</span><br><span class="line"><span class="selector-class">.toc-macro</span> <span class="selector-tag">a</span> &#123; <span class="attribute">text-decoration</span>: none; &#125;</span><br><span class="line"><span class="selector-class">.toc-macro</span> <span class="selector-tag">li</span> &#123; <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">8px</span> <span class="number">2px</span>;<span class="attribute">text-decoration</span>:none; &#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">background-color</span>: <span class="number">#efefef</span>;<span class="attribute">color</span>: <span class="number">#7DB75C</span>; &#125;</span><br><span class="line"><span class="selector-class">.toc-macro</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">background-color</span>: <span class="number">#efefef</span>;<span class="attribute">color</span>: <span class="number">#7DB75C</span>; &#125;</span><br></pre></td></tr></table></figure>
<p>其中使用了决定定位时导航不会随着滚动条而滚动，使我们在查看API文档时总是能看到这个导航。<br>这样子基本符合我们的需求了，但是有一个小小的问题，那就是鼠标放到导航上如果没有放到a链接上面，li标签会变色，但是由于鼠标没有在a上所以还是箭头的形状。。。这个小小的瑕疵需要解决一下。</p>
<p>首先我们想到的是把a标签的宽度设置到 100%：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.toc-macro a &#123; display:inline-block; width: 100%; &#125;</span><br></pre></td></tr></table></figure>
<p>但是这样似乎并没有按照我们所想的表现出来。我们需要再加一些东西，让a标签的inline-block可以把宽度填充</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.toc-macro li &#123; vertical-align: middle; line-height: 15px;&#125;</span><br></pre></td></tr></table></figure>
<p>另外还有一种实现思路那就是把div下所有标签的display属性设置为block,同时a的height设置为100%：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.toc-macro ul &#123; display: block; &#125;</span><br><span class="line">.toc-macro li &#123; display: block;&#125;</span><br><span class="line">.toc-macro a &#123; display:block; height:100%; &#125;</span><br></pre></td></tr></table></figure>
<p>这样实现应该也是可行的，不过没有测试过了。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/z-compile-vim-with-lua-support-in-centos-7/" itemprop="url">
                  CentOS 编译安装vim 7.4添加Lua支持
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-07-20T12:34:50+08:00" content="2015-07-20">
              2015-07-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>一些vim插件需要提供Lua支持，特别是常见的补全插件，前段时间安装的[yadr](https</p>
<h2 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h2><p>首先，编译安装嘛，先下载源码， 可是呢这两sourceforge挂掉了，vim是托管在sf上的，导致下载页面也不能访问了，甚至vim的官网 <a href="http://www.vim.org" target="_blank" rel="noopener">www.vim.org</a> 也不能访问了，幸好vim在github上有一个备份  <a href="https://github.com/vim/vim" title="https://github.com/vim/vim" target="_blank" rel="noopener">https://github.com/vim/vim</a> 或者直接访问vim.org的ftp站： <a href="ftp://ftp.vim.org/pub/vim/unix/" title="ftp://ftp.vim.org/pub/vim/unix/" target="_blank" rel="noopener">ftp://ftp.vim.org/pub/vim/Unix/</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// 使用下面之一的方法下载源码</span><br><span class="line">// git下载的话体积会大一些，好处是以后可以方便地更新</span><br><span class="line">git clone git@github.com:vim/vim.git</span><br><span class="line">wget -O ftp://ftp.vim.org/pub/vim/Unix/vim-7.4.tar.bz2</span><br><span class="line">wget ftp://ftp.vim.org/pub/vim/Unix/vim-7.4.tar.bz2</span><br><span class="line"></span><br><span class="line">tar xjvf vim-7.4.tar.bz2</span><br><span class="line">cd vim74</span><br></pre></td></tr></table></figure>
<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p>vim的编译其实很简单，就configure-&gt;make-&gt;make install 这样的流程。但是要添加 Lua支持，就有一些麻烦了。</p>
<p>configure的配置大概是这样的：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./configure --prefix=/data/vim74 --with-features=huge --with-luajit --enable-luainterp=yes</span><br></pre></td></tr></table></figure>
<p>首先如果不在 configure配置那手动打开 <code>--enable-fail-if-missing</code> 这个选项，你会发现，configure没有问题，make没有问题，make install也OK，但是运行生成的vim： <code>vim --version</code>会发现Lua前面还是一个”-“（表示没有Lua支持）<br>因为其实configure那根本就没有找到lua的支持，只是默认跳过了 <code>--enable-luainterp=yes</code> 选项。。。<br>所以应该这样运行configure：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./configure --prefix=/data/vim74 --with-features=huge --with-luajit --enable-luainterp=yes --enable-fail-if-missing</span><br></pre></td></tr></table></figure>
<p>如果你的机器没有安装lua 和luajit的话会在检查lua支持那里中断了。</p>
<h3 id="安装Lua和LuaJit"><a href="#安装Lua和LuaJit" class="headerlink" title="安装Lua和LuaJit"></a>安装Lua和LuaJit</h3><p>Lua的安装倒是比较方便，官方repo里面就有，当然要想安装新版的也可以自己编译安装。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo yum install lua lua-devel -y</span><br></pre></td></tr></table></figure>
<p>luajit不在centos的官方repo里面，我们需要编译安装;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget http://luajit.org/download/LuaJIT-2.0.4.tar.gz</span><br><span class="line">tar -xzvf LuaJIT-2.0.4.tar.gz</span><br><span class="line">cd LuaJIT-2.0.4</span><br><span class="line">// 使用默认安装路径</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<h2 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h2><p>安装好lua支持后，再运行configure就不会报错了</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./configure --prefix=/data/vim74 --with-features=huge --with-luajit --enable-luainterp=yes --enable-fail-if-missing</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>运行编译的vim：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/data/vim74/bin/vim</span><br></pre></td></tr></table></figure>
<p>可能你会发现这样的错误:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/data/vim74/bin/vim: error while loading shared libraries: libluajit-5.1.so.2: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>
<p>显然是安装的luajit有问题。我们找一下luajit这个.so文件在哪里</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo find / -name libluajit-5.1.so.2</span><br></pre></td></tr></table></figure>
<p>发现下面有这个文件：</p>
<ol>
<li>/home/wuxu/tars/ngx_openresty-1.7.10.2/build/luajit-root/data/openresty/luajit/lib/libluajit-5.1.so.2</li>
<li>/usr/local/lib/libluajit-5.1.so.2</li>
<li>/data/openresty/luajit/lib/libluajit-5.1.so.2</li>
</ol>
<p>显然1，3是openresty编译的，第二个才是我们安装luajit支持，我们需要给这个.so生成一个软链接，让vim能找到它：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo ln -s /usr/local/lib/libluajit-5.1.so.2 /lib64/libluajit-5.1.so.2</span><br></pre></td></tr></table></figure>
<p>这样再运行vim就不会有问题了～也有Lua支持了，不过Vim的自动补全还没用过呢，学会了再做记录吧。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/compile-and-install-php7-beta1/" itemprop="url">
                  编译安装PHP7 beta1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-07-19T12:34:50+08:00" content="2015-07-19">
              2015-07-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/server/" itemprop="url" rel="index">
                    <span itemprop="name">server</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>前段时间去php.net上闲逛发现PHP7的beta1版本出来了，就尝试着编译安装了一下</p>
<p>之前在鸟哥的博客里看到了他们做的PHP的性能测试，相对于PHP5.6都是有很大的提升的，并且PHP的主版本号已经是2004年发布PHP5后，11年来首次更新，肯定PHP７是有很大的改变的，下面那就来试试PHP7的beta版吧，正式版大概在今年年底会发布。</p>
<h2 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h2><p>测试版本的PHP下载页面： <a href="https://downloads.php.net/~ab/" title="https://downloads.php.net/~ab/" target="_blank" rel="noopener">https://downloads.php.net/~ab/</a></p>
<p>php7 beta1: <a href="https://downloads.php.net/~ab/php-7.0.0beta1.tar.gz" title="https://downloads.php.net/~ab/php-7.0.0beta1.tar.gz" target="_blank" rel="noopener">https://downloads.php.net/~ab/php-7.0.0beta1.tar.gz</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https://downloads.php.net/~ab/php-7.0.0beta1.tar.gz</span><br><span class="line">或者</span><br><span class="line">curl -O https://downloads.php.net/~ab/php-7.0.0beta1.tar.gz</span><br></pre></td></tr></table></figure>
          <div class="post-more-link text-center">
            <a class="btn" href="/compile-and-install-php7-beta1/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/vim-shortcuts/" itemprop="url">
                  vim 常用的快捷键
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-07-19T12:34:50+08:00" content="2015-07-19">
              2015-07-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>vim作为键盘操作为主的编辑器，有许多功能丰富的快捷键，其实不只在普通模式下有快捷键，其实在插入模式下也有一些有用的快捷键…</p>
<h2 id="插入模式的快捷键"><a href="#插入模式的快捷键" class="headerlink" title="插入模式的快捷键"></a>插入模式的快捷键</h2><p>对于新手来说，vim的插入模式和记事本一样“好用”，记事本有一些快捷键，但是在vim的插入模式下，我们却经常忘记使用快捷键：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;C-h&gt;/Ctrl+h	 删除前一个字符</span><br><span class="line">&lt;C-w&gt;			删除前一个单词</span><br><span class="line">&lt;C-u&gt;			删除到行首</span><br><span class="line"></span><br><span class="line">Esc/&lt;C-[&gt;	Esc进入普通模式，其实Ctrl+[和Esc的作用是一样的</span><br><span class="line">&lt;Ctrl-o&gt;		Ctrl+o进入插入-普通模式，此模式下可以执行一个普通模式下的命令并返回插入模式，</span><br><span class="line">			常用 &lt;C-o&gt;zz：保持插入模式并把光标行滚动到屏幕中间</span><br></pre></td></tr></table></figure>
<p>可以在插入模式下使用vim的计算工具<code>&lt;C-r&gt;=</code> 插入模式下这个组合键访问表达式寄存器(=)，这是会在屏幕下方提示输入运算符，输入<code>1+2+3</code> 后 <code>&lt;CR&gt;</code>（回车），vim就会把运算结果插入到刚刚的光标位置，并且仍然是插入模式</p>
<p>对于104键的键盘可以在插入模式下使用<code>Shift+insert</code>组合键粘贴系统剪切板的内容，可以使用<code>&lt;C-r&gt;n</code>粘贴寄存器n中的内容</p>
<p>在插入模式下 <code>&lt;C-v&gt;</code>用来插入一个特殊字符，比如<code>&lt;C-v&gt;u00bf</code>可以插入一个返过来的问号~这是用来插入unicode字符的。</p>
<h2 id="可视模式下的快捷键"><a href="#可视模式下的快捷键" class="headerlink" title="可视模式下的快捷键"></a>可视模式下的快捷键</h2><h2 id="普通模式下的快捷键"><a href="#普通模式下的快捷键" class="headerlink" title="普通模式下的快捷键"></a>普通模式下的快捷键</h2><h2 id="分栏"><a href="#分栏" class="headerlink" title="分栏"></a>分栏</h2><p><code>sp {filename}</code> 水平切分上下两栏。filename可选，默认当前文件，快捷键<code>&lt;C-w&gt;s</code><br><code>vsp {filenamem}</code> 垂直切分，左右两栏 <code>&lt;C-w&gt;v</code></p>
<p>如果安装了yadr扩展的话可以使用<code>contrl+h,j,k,l</code>来跳转到相应方向的分栏<br>没有yadr可以使用快捷键 <code>&lt;C-w&gt;&lt;C-w&gt;</code>在分栏中循环切换，或这使用<code>&lt;C-w&gt;[h,j,k,l]</code> 跳转到分栏。</p>
<p><code>&lt;C-w&gt;=</code> 所有窗口等宽等高<br><code>&lt;C-w&gt;_</code> 最大化活动窗口高度<br><code>&lt;C-w&gt;|</code> 最大化活动窗口宽度<br><code>[n]&lt;C-w&gt;_</code> 活动窗口高度设为n<br><code>[n]&lt;C-w&gt;|</code> 活动窗口宽度设为n</p>
<p><code>:clo</code> 关闭活动窗口， 快捷键 <code>&lt;C-w&gt;c</code><br><code>:on[ly]</code> 只保留当前窗口   快捷键 <code>&lt;C-w&gt;o</code></p>
<p>很有用的重新对其代码,命令模式下 <code>gg=G</code><br><em>待续</em></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/16/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/18/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/avatar.jpg" alt="wuxu" itemprop="image"/>
          <p class="site-author-name" itemprop="name">wuxu</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Wu Xu的个人博客</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">175</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">27</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">147</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/wuxu92" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/wuxu92" target="_blank">
                  
                    <i class="fa fa-twitter"></i> Twitter
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/kiwidock" target="_blank">
                  
                    <i class="fa fa-weibo"></i> Weibo
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/wuxu92" target="_blank">
                  
                    <i class="fa fa-douban"></i> Douban
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/wuxu92" target="_blank">
                  
                    <i class="fa fa-zhihu"></i> Zhihu
                  
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wuxu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  


  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
